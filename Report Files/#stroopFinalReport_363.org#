#+OPTIONS: ':nil *:t -:t ::t <:t H:3 \n:nil ^:t arch:headline
#+OPTIONS: author:t broken-links:nil c:nil creator:nil
#+OPTIONS: d:(not "LOGBOOK") date:t e:t email:nil f:t inline:t num:t
#+OPTIONS: p:nil pri:nil prop:nil stat:t tags:t tasks:t tex:t
#+OPTIONS: timestamp:t title:t toc:t todo:t |:t

#+TITLE: PSYCH 363 - Stroop Effect: Congruency and Response Time
#+DATE: <2020-12-14 Mon>
#+AUTHOR: Keagan McMahon, Brigitta Munds, @@latex:\\@@ Benjamin Brown, & Christina Rachmadita
#+EMAIL: kl2mcmah@uwaterloo.ca

#+LANGUAGE: en
#+SELECT_TAGS: export
#+EXCLUDE_TAGS: noexport
#+CREATOR: Emacs 26.3 (Org mode 9.1.9)
#+LATEX_CLASS: article
#+LATEX_CLASS_OPTIONS:
#+LATEX_HEADER: \bibliographystyle{plain}} 
#+LATEX_HEADER: \usepackage[margin=1.0in]{geometry}
#+LATEX_HEADER_EXTRA:
#+DESCRIPTION:
#+KEYWORDS:
#+SUBTITLE:
#+LATEX_COMPILER: pdflatex
#+DATE: December 14th, 2020


* Introduction

@@latex:\hspace{1em}@@ Previous studies in the Stroop literature have demonstrated that participants might respond differently based on if Stroop items are congruent with their displayed state and some have found evidence of congruency effects \cite{SpinelliGiacomo2020WMLD}. For example, words that are presented in the same colour that the word is describing (i.e. the word "Red" presented in the colour red) would be known as a congruent trial, whereas words presented in a different colour (i.e. "Red, but presented in the colour blue) would be an incongruent trial.\\

Rey-Mermet discusses the idea of attentional-control processes, namely, our ability to ``activate goal-relevant information and to inhibit irrelevant information'' \cite{Mermet2020Faib}. Our study approaches this idea and seeks to understand if reaction time differences arise when comparing congruent to incongruent trials. A participants goal is to correctly report words that are congruent, while inhibiting the irrelevant information presented during incongruent trials and we hypothesize that ones reaction time should differ as a function of the extended cognitive process one must engage in to correctly make this rejection. 

* Methods

@@latex:\hspace{1em}@@ *Participants.* We utilized our 4 group members, and each completed 20 trials 5 times yielding 100 total trials per person. This gave us enough data to be confident in our results, although with such a small sample size of participants it is clear that these results will struggle to generalize to the broader population more broadly. \\

*Materials.* A program was developed for use in our experiement to randomly choose different colour words (i.e. red, blue, green, etc) and an associated colour that the words were written in. The words are presented on a plain solid grey background and participants were instructed to either press "z" or "/" on a keyboard to indicate whether the word and its associated colour were congruent (i.e. the written word matched the colour of the word) or incongruent (i.e. the written word did not match the colour of the word). After each user response a new word would be randomly generated for them to respond to and once the participant completes 20 trials, the program closes itself, the data is exported and procedure ends. Importantly, the colour and word displayed were all randomly selected, and each value available within the program have an equal probaibility of being selected. We chose not to present the participant with a specific number of congruent/incongruent trials to ensure that they could not try to predict/learn what to expect next and maintain complete randomness. \\

Please see below for a copy of the Python code used in designing the program:
#+begin_src python :exports code
from psychopy import visual,core,clock,event
import random as r
import csv
from datetime import datetime

now=datetime.now()
date_time=now.strftime("%Y-%m-%d_%H:%M:%S")
filename="stroop"+date_time+".csv"

keyAssign=["q","z","slash"]
colourOptions=["yellow","red","blue","green"]

probCongruent=0.25

numberTrials=20
RTclock=core.Clock()

win=visual.Window(size=(600,600))

instructionText="Press 'z' for congruent words & colours  and '/' when incongruent. Press any key to start."

showInstruction=visual.TextStim(win,instructionText,color="black",height=0.1)
showInstruction.draw()
win.flip()
event.waitKeys()

for i in range(numberTrials):
	
	r.shuffle(colourOptions)

	if r.random()<probCongruent:
		writtenColour=colourOptions[0]
		displayColour=colourOptions[0]
		congruent=1
	else:
		writtenColour=colourOptions[0]
		displayColour=colourOptions[1]
		congruent=0
	

	displayText = visual.TextStim(win,writtenColour,color=displayColour,height=0.2)

	displayText.draw()
	win.flip()
	RTclock.reset()
	key=event.waitKeys(keyList=keyAssign)
	rt=RTclock.getTime()
	if (key[0]==keyAssign[0]):
		core.quit()
		
	with open(filename,'a',newline='') as csvfile:
		posnerwrite=csv.writer(csvfile,delimiter=' ')
		posnerwrite.writerow([writtenColour] + [displayColour] + [congruent] + [key[0]] + [rt])

core.wait(1)
core.quit()
#+end_src
#+RESULTS:
* Results

Data structure:

#+begin_src R :session *analysis* :exports both :results output

dt <- read.csv("363Stroop_Data_Dec_4.csv")

## An example of how our data is structured
head(dt, 10)

#+end_src

Statistical summary of the data:

#+begin_src R :session *analysis* :exports both :results output

summary(dt)

#+end_src

Number of rows:

#+begin_src R :session *analysis* :exports both :results output

rng <-nrow(dt)

#+end_src

The number of rows is src_R[:session *analysis]{rng}

Linear regression model:

#+begin_src R :session *analysis* :exports both :results output

lmresults <- lm( Time ~ Congruent, data = dt)
summary(lmresults)

#+end_src

Specialised T-test:

#+begin_src R :session *analysis* :exports both :results output

t.test(Time ~ Congruent, mu=0, alt="two.sided", conf=0.95, var.eq=F, paired=F, data = dt)

#+end_src

One way ANOVA:

#+begin_src R :session *analysis* :exports both :results output

anova(lmresults)

#+end_src

More linear regression:

#+begin_src R :session *analysis* :exports both :results output

lmresults2 <- lm( Time ~ Congruent + Trial + Colour + Response, data = dt)

summary(lmresults2)

#+end_src

One way ANOVA:

#+begin_src R :session *analysis* :exports both :results output

anova(lmresults2)

#+end_src

* Discussion
test discussion text stuff

* References

#+latex: \bibliography{stroopBib.bib}

* Testing Plots here.....

** All Of the available plots below...

#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "barplot_stroop.png"

library(ggplot2)

data <- read.csv("363Stroop_Data_Dec_4.csv")

incongruent <- data[which(data$Congruent == 0),]$Time
congruent <- data[which(data$Congruent == 1),]$Time
df <- data.frame(cond = c("Incongruent", "Congruent"), 
rt = c(mean(incongruent), mean(congruent)))

p <- ggplot(df, aes(x = cond, y = rt, fill = cond)) + geom_bar(stat = "identity", 
width = 0.5) + labs(title = "Condition on Reaction Time", x = "Condition",
y = "Reaction Time (s)") + theme(legend.position = "right") + theme_minimal()

p
#+END_SRC

#+RESULTS:
[[file:barplot_stroop.png]]


#+BEGIN_SRC R :session *363 Stroop* :exports both
library(ggplot2)

data <- read.csv("363Stroop_Data_Dec_4.csv")

Lincongruent <- c()
counter = 1
while(counter <= 20) {
  T = data[which(data$Trial == counter & data$Congruent == 0),]
  mean_RT = mean(T$Time)
  Lincongruent = append(Lincongruent, mean_RT)
  counter = counter + 1
}

Lcongruent <- c()
counter = 1
while(counter <= 20) {
  T = data[which(data$Trial == counter & data$Congruent == 1),]
  mean_RT = mean(T$Time)
  Lcongruent = append(Lcongruent, mean_RT)
  counter = counter + 1
}

cond_rt_df <- data.frame(Condition = rep(c("Congruent", "Incongruent"), each = 20), RT = c(Lcongruent, Lincongruent))
df <- data.frame(Congruent = Lcongruent, Incongruent = Lincongruent)
df$Interference <- df$Incongruent - df$Congruent

incongruent_mean <- mean(data[which(data$Congruent == 0),]$Time)
congruent_mean <- mean(data[which(data$Congruent == 1),]$Time)
overall <- data.frame(cond = c("Incongruent", "Congruent"), rt = c(incongruent_mean, congruent_mean))

#+END_SRC

#+RESULTS:
| Incongruent | 0.915385980111821 |
| Congruent   | 0.843044126528736 |





#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "converted_stroop2.png"

p <- ggplot(overall, aes(x = cond, y = rt, fill = cond)) + geom_bar(stat = "identity", width = 0.5) + labs(title = "Mean Reaction Time", x = "Condition", y = "Reaction Time (s)") + theme_classic() + theme(plot.title = element_text(hjust = 0.5, size = 15, face = "bold"), legend.position = "right", legend.background = element_blank(), legend.box.background = element_rect(colour = "black"), panel.background = element_blank(), panel.grid = element_blank(), panel.border = element_rect(colour = "black", fill = NA, size = 0.75))

p

#+END_SRC

#+RESULTS:
[[file:converted_stroop2.png]]



#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "converted_stroop3.png"

density_plot <- ggplot(cond_rt_df, aes(x = RT, color = Condition, fill = Condition)) + geom_density(alpha = 0.5) + labs(title = "Response Time Density Plot", x = "Response Time (s)", y = "Frequency") + theme_classic() + theme(plot.title = element_text(hjust = 0.5, size = 15, face = "bold"), legend.position = "right", legend.background = element_blank(), legend.box.background = element_rect(colour = "black"), panel.background = element_blank(), panel.grid = element_blank(), panel.border = element_rect(colour = "black", fill = NA, size = 0.75)) + xlim(0.25, 1.75)

density_plot

#+END_SRC

#+RESULTS:
[[file:converted_stroop3.png]]



#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "converted_stroop4.png"

interference_hist <- ggplot(df, aes(x = Interference)) + geom_histogram(binwidth = 0.05, color = "white", fill = "darkturquoise") + labs(title = "Interference Histogram", x = "Increase in Response Time (s)", y = "Number of Observers") + theme_classic() + theme(plot.title = element_text(hjust = 0.5, size = 15, face = "bold"), panel.background = element_blank(), panel.grid = element_blank(), panel.border = element_rect(colour = "black", fill = NA, size = 0.75))

interference_hist

#+END_SRC

#+RESULTS:
[[file:converted_stroop4.png]]




#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "converted_stroop5.png"

RT_congruent <- ggplot(df, aes(x = Congruent)) + geom_histogram(alpha = 0.5, fill = "steelblue") + geom_density(color = "steelblue") + labs(title = "Response Time for Congruent Words", x = "Response Time (s)", y = "Frequency") + theme_classic() + theme(plot.title = element_text(hjust = 0.5, size = 15, face = "bold"), panel.background = element_blank(), panel.grid = element_blank(), panel.border = element_rect(colour = "black", fill = NA, size = 0.75)) + xlim(0.25, 1.75) + ylim(0, 5)

RT_congruent

#+END_SRC

#+RESULTS:
[[file:converted_stroop5.png]]




#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "converted_stroop6.png"

RT_incongruent <- ggplot(df, aes(x = Incongruent)) + geom_histogram(alpha = 0.5, fill = "steelblue") + geom_density(color = "steelblue") + labs(title = "Response Time for Incongruent Words", x = "Response Time (s)", y = "Frequency") + theme_classic() + theme(plot.title = element_text(hjust = 0.5, size = 15, face = "bold"), panel.background = element_blank(), panel.grid = element_blank(), panel.border = element_rect(colour = "black", fill = NA, size = 0.75)) + xlim(0.25, 1.75) + ylim(0, 5)

RT_incongruent

#+END_SRC

#+RESULTS:
[[file:converted_stroop6.png]]



#+BEGIN_SRC R :session *363 Stroop* :exports both :results graphics :file "converted_stroop7.png"

RT_cond <- ggplot(cond_rt_df, aes(x = RT, color = Condition, fill = Condition)) + geom_histogram(color = NA, alpha = 0.5, position = "identity") + geom_density(alpha = 0) + labs(title = "Response Time for Congruent vs. Incongruent Words", x = "Response Time (s)", y = "Frequency") + theme_classic() + theme(plot.title = element_text(hjust = 0.5, size = 15, face = "bold"), legend.position = "right", legend.background = element_blank(), legend.box.background = element_rect(colour = "black"), panel.background = element_blank(), panel.grid = element_blank(), panel.border = element_rect(colour = "black", fill = NA, size = 0.75)) + xlim(0.25, 1.75) + ylim(0, 5)

RT_cond

#+END_SRC

#+RESULTS:
[[file:converted_stroop7.png]]
